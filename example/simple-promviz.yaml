graphName: Demo
maxVolumeRate: 15
clusters:
  - name: demo-cluster-1
    serviceConnections:
      - name: http
        query: status:http_requests_total:rate2m
        prometheusURL: http://localhost:9090
        source:
          replacement: INTERNET
        target:
          label: service
        status:
          label: status
          dangerRegex: ^5..$
        notices:
          - name: highErrorRate
            statusType: danger
            threshold: 0.01
            title: HighErrorRate

clusterConnections:
  - name: internet-to-demo-cluster-1
    query: sum by (status) (status:http_requests_total:rate2m)
    prometheusURL: http://localhost:9090
    source:
      replacement: INTERNET
    target:
      replacement: demo-cluster-1
    status:
      label: status
      dangerRegex: ^5..$